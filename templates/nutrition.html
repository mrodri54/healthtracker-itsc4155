{% extends 'base.html' %}

{% block title %}Nutrition Tracking{% endblock %}

{% block content %}
<div class="content my-4">
    <h2>Nutrition Tracking</h2>
    <p>Track your nutrition here.</p>

    <!-- Display Total Calories and Chart -->
    <h3>Calories Consumed Over Time</h3>
    {% if img_base64 %}
        <img src="data:image/png;base64,{{ img_base64 }}" alt="Calories Chart">
    {% else %}
        <p>{{ message }}</p>
    {% endif %}

    <!-- Food Intake Tracker Form -->
    <section id="food-tracker" class="tracker-section">
        <h3>Food Intake Tracker</h3>
        <div class="form-group">
            <label for="food-type">Select food type:</label>
            <select id="food-type" class="form-control">
                <optgroup label="Proteins">
                    <option value="Chicken Breast" data-calories="165" data-protein="31" data-carbs="0" data-fat="3.6">Chicken Breast (165 kcal)</option>
                    <option value="Tofu" data-calories="76" data-protein="8" data-carbs="1.9" data-fat="4.8">Tofu (76 kcal)</option>
                    <option value="Eggs" data-calories="155" data-protein="13" data-carbs="1.1" data-fat="11">Eggs (155 kcal)</option>
                    <option value="Salmon" data-calories="208" data-protein="20" data-carbs="0" data-fat="13">Salmon (208 kcal)</option>
                    <option value="Turkey" data-calories="135" data-protein="30" data-carbs="0" data-fat="1">Turkey (135 kcal)</option>
                </optgroup>
                <optgroup label="Carbohydrates">
                    <option value="Rice" data-calories="130" data-protein="2.7" data-carbs="28" data-fat="0.3">Rice (130 kcal)</option>
                    <option value="Oats" data-calories="68" data-protein="2.4" data-carbs="12" data-fat="1.4">Oats (68 kcal)</option>
                    <option value="Pasta" data-calories="131" data-protein="5" data-carbs="25" data-fat="1.1">Pasta (131 kcal)</option>
                    <option value="Potato" data-calories="77" data-protein="2" data-carbs="17" data-fat="0.1">Potato (77 kcal)</option>
                    <option value="Bread" data-calories="266" data-protein="9" data-carbs="49" data-fat="3.3">Bread (266 kcal)</option>
                </optgroup>
                <optgroup label="Fats">
                    <option value="Avocado" data-calories="160" data-protein="2" data-carbs="9" data-fat="15">Avocado (160 kcal)</option>
                    <option value="Olive Oil" data-calories="119" data-protein="0" data-carbs="0" data-fat="14">Olive Oil (119 kcal)</option>
                    <option value="Almonds" data-calories="579" data-protein="21" data-carbs="22" data-fat="50">Almonds (579 kcal)</option>
                    <option value="Cheese" data-calories="402" data-protein="25" data-carbs="1.3" data-fat="33">Cheese (402 kcal)</option>
                    <option value="Butter" data-calories="717" data-protein="0.9" data-carbs="0.1" data-fat="81">Butter (717 kcal)</option>
                </optgroup>
                <optgroup label="Fruits">
                    <option value="Apple" data-calories="52" data-protein="0.3" data-carbs="14" data-fat="0.2">Apple (52 kcal)</option>
                    <option value="Banana" data-calories="89" data-protein="1.1" data-carbs="23" data-fat="0.3">Banana (89 kcal)</option>
                    <option value="Orange" data-calories="47" data-protein="0.9" data-carbs="12" data-fat="0.1">Orange (47 kcal)</option>
                    <option value="Grapes" data-calories="69" data-protein="0.7" data-carbs="18" data-fat="0.2">Grapes (69 kcal)</option>
                    <option value="Berries" data-calories="57" data-protein="0.7" data-carbs="14" data-fat="0.3">Berries (57 kcal)</option>
                </optgroup>
                <!-- Add more categories as needed -->
            </select>
        </div>
        <div class="form-group">
            <label for="food-quantity">Quantity (servings):</label>
            <input type="number" id="food-quantity" class="form-control" placeholder="e.g. 1">
        </div>
        <button id="add-food-btn" class="btn btn-primary">Add Food</button>

        <!-- Display Total Calories and Breakdown -->
        <p class="mt-2">Total Calories: <span id="total-food-calories" class="font-weight-bold">0</span> kcal</p>
        <ul id="food-log" class="list-group mt-2"></ul>
    </section>
</div>
{% endblock %}
